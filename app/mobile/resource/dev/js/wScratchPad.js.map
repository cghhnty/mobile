{"version":3,"file":"wScratchPad.js.map","sources":["src/js/wScratchPad.js"],"names":["$","ScratchPad","el","options","this","$el","init","enabled","_generate","prototype","support","canvas","append","document","createElement","ctx","getContext","css","$img","attr","position","width","height","$scratchpad","bindMobileEvents","mousedown","proxy","e","canvasOffset","offset","scratch","_scratchFunc","mousemove","mouseup","_setOptions","reset","_this","Math","ceil","innerWidth","innerHeight","devicePixelRatio","window","pixels","setAttribute","scale","hide","bg","charAt","fg","fillStyle","beginPath","rect","fill","show","Image","load","drawImage","clear","clearRect","enable","destroy","children","remove","removeData","opt","func","toUpperCase","substring","setBg","setFg","setCursor","cursor","event","pageX","floor","left","pageY","top","realtime","apply","_scratchPercent","hits","imageData","getImageData","i","ii","data","length","_scratchDown","globalCompositeOperation","lineJoin","lineCap","strokeStyle","color","lineWidth","size","arc","PI","closePath","moveTo","style","zIndex","_scratchMove","lineTo","stroke","_scratchUp","fn","wScratchPad","value","get","extend","values","undefined","setOpt","getOpt","runOpt","push","each","defaults","scratchDown","scratchUp","scratchMove","on","touches","originalEvent","changedTouches","first","type","preventDefault","simulatedEvent","createEvent","initMouseEvent","screenX","screenY","clientX","clientY","target","dispatchEvent","jQuery"],"mappings":"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","sourceRoot":"../.."}