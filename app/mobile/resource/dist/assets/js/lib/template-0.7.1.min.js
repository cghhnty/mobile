/*! 2016-06-08 */
!function (a, b) {
    var c = b(a);
    if ("function" == typeof define && define.amd)define("template", function () {
        return c
    }); else if ("object" == typeof exports)module.exports = c; else {
        var d = a.template;
        c.noConflict = function () {
            return a.template === c && (a.template = d), c
        }, a.template = c
    }
}(this, function (a) {
    "use strict";
    function b(a) {
        if (null === a)return "null";
        var b = typeof a;
        if ("object" !== b)return b;
        var c = t.call(a).slice(8, -1).toLowerCase();
        return "object" !== c ? c : a.constructor == Object ? c : "unkonw"
    }

    function c(a) {
        return "object" === b(a)
    }

    function d(a) {
        return "function" === b(a)
    }

    function e(a) {
        return "string" === b(a)
    }

    function f() {
        for (var a = arguments[0] || {}, b = u.call(arguments, 1), c = b.length, d = 0; c > d; d++) {
            var e = b[d];
            for (var f in e)a[f] = e[f]
        }
        return a
    }

    function g() {
        var a = u.call(arguments);
        return f.apply(null, [{}].concat(a))
    }

    function h(a) {
        return a
    }

    function i(a) {
        return String(a).replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\\/g, "&#92;").replace(/"/g, "&quot;").replace(/'/g, "&#39;")
    }

    function j(a) {
        return a.replace(/\s+/g, " ").replace(/<!--[\w\W]*?-->/g, "")
    }

    function k(a, b) {
        "undefined" != typeof console && console[a] && console[a](b)
    }

    function l(a) {
        function b() {
            return "template.js error"
        }

        var c = "template.js error\n\n";
        for (var d in a)c += "<" + d + ">\n" + a[d] + "\n\n";
        return c += "<message>\n" + a.message + "\n\n", k("error", c), q.error(a), b.toString = function () {
            return '__code__ = "template.js error"'
        }, b
    }

    function m(a, b) {
        function c(a) {
            return a = a.replace(/('|")/g, "\\$1").replace(/\n/g, " "), ';__code__ += ("' + a + '")\n'
        }

        function d(a) {
            var b, c, d, e = /^(?:=|(:.*?)=)(.*)$/;
            return (c = e.exec(a)) ? (b = c[2], d = Boolean(c[1]) ? c[1].slice(1) : h ? "h" : "", ';__code__ += __modifierMap__["' + d + '"](typeof (' + b + ') !== "undefined" ? (' + b + ') : "")\n') : ";" + a + "\n"
        }

        for (var e = "", f = b.sTag, g = b.eTag, h = b.escape, i = a.split(f), j = 0, k = i.length; k > j; j++) {
            var l = i[j].split(g);
            1 === l.length ? e += c(l[0]) : (e += d(l[0], !0), l[1] && (e += c(l[1])))
        }
        return e
    }

    function n(a, b) {
        var c = m(a, b), d = '\n    var html = (function (__data__, __modifierMap__) {\n        var __str__ = "", __code__ = "";\n        for(var key in __data__) {\n            __str__+=("var " + key + "=__data__[\'" + key + "\'];");\n        }\n        eval(__str__);\n\n', e = "\n        ;return __code__;\n    }(__data__, __modifierMap__));\n    return html;\n", f = d + c + e;
        f = f.replace(/[\r]/g, " ");
        try {
            var g = new Function("__data__", "__modifierMap__", f);
            return g.toString = function () {
                return c
            }, g
        } catch (h) {
            throw h.temp = "function anonymous(__data__, __modifierMap__) {" + f + "}", h
        }
    }

    function o(a, b) {
        function c(c) {
            c = g(r, c);
            try {
                var e = d(c, s);
                return e = b.compress ? j(e) : e
            } catch (f) {
                return f.name = "RenderError", f.tpl = a, f.render = d.toString(), l(f)()
            }
        }

        b = g(q, b);
        try {
            var d = n(a, b)
        } catch (e) {
            return e.name = "CompileError", e.tpl = a, e.render = e.temp, delete e.temp, l(e)
        }
        return c.toString = function () {
            return d.toString()
        }, c
    }

    function p(a, b) {
        if ("string" != typeof a)return "";
        var d = o(a);
        return c(b) ? d(b) : d
    }

    var q = {
        sTag: "<%", eTag: "%>", compress: !1, escape: !0, error: function (a) {
        }
    }, r = {}, s = {
        "": function (a) {
            return h(a)
        }, h: function (a) {
            return i(a)
        }, u: function (a) {
            return encodeURI(a)
        }
    }, t = {}.toString, u = [].slice;
    return p.config = function (a) {
        return c(a) && (q = f(q, a)), g(q)
    }, p.registerFunction = function (a, b) {
        return e(a) ? d(b) ? r[a] = b : r[a] : g(r)
    }, p.unregisterFunction = function (a) {
        return e(a) ? (delete r[a], !0) : !1
    }, p.registerModifier = function (a, b) {
        return e(a) ? d(b) ? s[a] = b : s[a] : g(s)
    }, p.unregisterModifier = function (a) {
        return e(a) ? (delete s[a], !0) : !1
    }, p.__encodeHTML = i, p.__compress = j, p.__handelError = l, p.__compile = o, p.version = "0.7.1", p
});